<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Create a New Post</title>
    <link rel="stylesheet" href="style/create_post.css">
    <script src="https://www.gstatic.com/firebasejs/ui/4.5.1/firebase-ui-auth.js"></script>
    <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/4.5.1/firebase-ui-auth.css" />
  </head>
  <body>
    <h1>Dis-COVID</h1>

    <a href="index.html">Go to Home</a><br>
    <a href="#" id="logout">Logout</a><br>
    <a id="login-button" href="login.html">Log in</a><br>

    <form id="add-test-form" class="add-post-form">
        <label>Day:</label><input type="text" name="day" placeholder="Enter the day" required><br>
        <label>Time:</label><input type="text" name="time" placeholder="Enter the time" required><br>
        <label>Select Tags (min 1):</label><br>
        <select name="tag1" id="tag-input">
            <option value="Default">Select a tag</option>
            <option value="Baking">Baking</option>
            <option value="Sculpting">Sculpting</option>
            <option value="Cake">Cake</option>
            <option value="Coding">Coding</option>
        </select><br>
        <select name="tag2" id="tag-input">
          <option value="Default">Select a tag</option>
          <option value="Baking">Baking</option>
          <option value="Sculpting">Sculpting</option>
          <option value="Cake">Cake</option>
          <option value="Coding">Coding</option>
        </select><br>
        <select name="tag3" id="tag-input">
          <option value="Default">Select a tag</option>
          <option value="Baking">Baking</option>
          <option value="Sculpting">Sculpting</option>
          <option value="Cake">Cake</option>
          <option value="Coding">Coding</option>
      </select><br>
      <label>Upload an Image:</label><br><input type="file" value="upload" id="fileButton"><br>
        <button>Add Test element</button>
    </form>
    
    <!-- Insert these scripts at the bottom of the HTML, but before you use any Firebase services -->

    <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.15.0/firebase-app.js"></script>

    <!-- If you enabled Analytics in your project, add the Firebase SDK for Analytics -->
    <script src="https://www.gstatic.com/firebasejs/7.15.0/firebase-analytics.js"></script>

    <!-- Add Firebase products that you want to use -->
    <script src="https://www.gstatic.com/firebasejs/7.15.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.15.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.15.0/firebase-storage.js"></script>
    
    <script>
      var firebaseConfig = {
        apiKey: "AIzaSyDAquTNfqjwa8bMBSzmyO_sEaeKhhq0rWQ",
        authDomain: "dis-covid.firebaseapp.com",
        databaseURL: "https://dis-covid.firebaseio.com",
        projectId: "dis-covid",
        storageBucket: "dis-covid.appspot.com",
        messagingSenderId: "93140684291",
        appId: "1:93140684291:web:b740d37d012982f706c836",
        measurementId: "G-ZNYK27S4Z4"
      };
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
    </script>
    
    <script>
        //gets the current user's email
        var currentUserEmail = "";
        firebase.auth().onAuthStateChanged(user => {
            if (user) {
                currentUserEmail = user.email;
            }
        });
        
        // Elements for file 
        var fileButton = document.getElementById('fileButton');
        
        // Listens for file selection
        fileButton.addEventListener('change', function(e) {
          uploadImage(e);
          
        });
        
        firebase.analytics();
        // Initialize database
        const db = firebase.firestore();
        //db.settings({timestampsInSnapshots: true});
        //Initializes authentication
        const auth = firebase.auth();
    </script>
    
    <script src="js/app.js"></script>
    <script src="js/logout.js"></script>
    <script src="js/user_status.js"></script>
    <script src="js/create_post.js"></script>
  </body>
</html>

