<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Create a New Post</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link rel="stylesheet" href="style/create_post.css">
    <link rel="stylesheet" href="style/style.css">
    <script src="https://www.gstatic.com/firebasejs/ui/4.5.1/firebase-ui-auth.js"></script>
    <!-- Firebase firebase -->
    <link rel="stylesheet" type="text/css" href="https://www.gstatic.com/firebasejs/ui/4.5.1/firebase-ui-auth.css" />
    <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.15.0/firebase-app.js"></script>

    <!-- If you enabled Analytics in your project, add the Firebase SDK for Analytics -->
    <script src="https://www.gstatic.com/firebasejs/7.15.0/firebase-analytics.js"></script>

    <!-- Add Firebase products that you want to use -->
    <script src="https://www.gstatic.com/firebasejs/7.15.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.15.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.15.0/firebase-storage.js"></script>
    
    <script>
      var firebaseConfig = {
        apiKey: "AIzaSyDAquTNfqjwa8bMBSzmyO_sEaeKhhq0rWQ",
        authDomain: "dis-covid.firebaseapp.com",
        databaseURL: "https://dis-covid.firebaseio.com",
        projectId: "dis-covid",
        storageBucket: "dis-covid.appspot.com",
        messagingSenderId: "93140684291",
        appId: "1:93140684291:web:b740d37d012982f706c836",
        measurementId: "G-ZNYK27S4Z4"
      };
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
    </script>
    
    <script>
        //gets the current user's email
        var currentUserEmail = "";
        firebase.auth().onAuthStateChanged(user => {
            if (user) {
                currentUserEmail = user.email;
            }
        });
        
        // Elements for file 
        var fileButton = document.getElementById('fileButton');
        
        // Listens for file selection
        fileButton.addEventListener('change', function(e) {
          uploadImage(e);
        });
        
        firebase.analytics();
        // Initialize database
        const db = firebase.firestore();
        //db.settings({timestampsInSnapshots: true});
        //Initializes authentication
        const auth = firebase.auth();
    </script>

    <script>
      // listen for auth status changes
      firebase.auth().onAuthStateChanged(user => {
          if (user) {
              console.log('Not redirecting');
          } else {
              console.log('Redirecting to index.html');
              window.location.replace("index.html");
          }
      });
    </script>
  </head>
  <body>
    <div class="navbar">
        <a href="all_posts.html" class="left nav-item help" id="indexHelp"><img src="images/logo-long.png" id="logo-image"></a>
        <input type="search" placeholder="Search">
        <!--<a href="profile.html" id="logout-link"><img src="images/profile.png" id="logout-img"></a>
        <a href="favorites.html"><img src="images/heart.png"></a>-->
        <a href="create_post.html" ><img src="images/create-post-image.png"></a>
        <a href="index.html" ><img src="images/login.png" id="logout"></a>
    </div>

    <div class="form-area">
      <div class="container">
        <div class="form-container">
          <form id="add-test-form" class="add-post-form">
            <div class="row">
              <div class="col-12 form-input">
                <label>Day:</label>
                <input type="text" name="day" placeholder="Enter the day" required><br>
              </div>
              <div class="col-12 form-input">
                <label>Time:</label>
                <input type="text" name="time" placeholder="Enter the time" required><br>
              </div>
            </div>
            <div class="row">
              <div class="col-12 form-input">
                
              </div>
          </div>
        </div>
      </div>
    </div>
    <form id="add-test-form" class="add-post-form">
        <label>Day:</label><input type="text" name="day" placeholder="Enter the day" required><br>
        <label>Time:</label><input type="text" name="time" placeholder="Enter the time" required><br>
        <label>Select Tags (min 1):</label><br>
        <select name="tag1" id="tag-input">
            <option value="Default">Select a tag</option>
            <option value="Baking">Baking</option>
            <option value="Sculpting">Sculpting</option>
            <option value="Cake">Cooking</option>
            <option value="Coding">Coding</option>
        </select><br>
        <select name="tag2" id="tag-input">
          <option value="Default">Select a tag</option>
          <option value="Baking">Baking</option>
          <option value="Sculpting">Sculpting</option>
          <option value="Cake">Cooking</option>
          <option value="Coding">Coding</option>
        </select><br>
        <select name="tag3" id="tag-input">
          <option value="Default">Select a tag</option>
          <option value="Baking">Baking</option>
          <option value="Sculpting">Sculpting</option>
          <option value="Cake">Cooking</option>
          <option value="Coding">Coding</option>
      </select><br>
      <label>Upload an Image:</label><br><input type="file" value="upload" id="fileButton"><br>
        <button>Add Test element</button>
    </form>
    
    <script src="js/app.js"></script>
    <script src="js/logout.js"></script>
    <script src="js/user_status.js"></script>
    <script src="js/create_post.js"></script>
    <script src="js/logo.js"></script>
  </body>
</html>

